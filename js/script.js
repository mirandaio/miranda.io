window.onload=function(){function t(d){window.requestAnimationFrame(t);var s=d-o;s<16||(o=d,e++,h=h.filter(function(t){return t.lifetime--}),h.forEach(function(t){dx=Math.cos(t.a)*t.width/2,dy=Math.sin(t.a)*t.width/2,t.x+=dx,t.y+=dy,t.a+=t.da/t.width/2,t.points.splice(0,t.points.length-t.lifetime),t.points.splice(0,t.points.length-65),t.points.push({x:t.x,y:t.y}),e%30==0&&(t.da=Math.random()-.5),t.width>5&&Math.random()<.02&&h.length<60&&h.push({x:t.x,y:t.y,a:t.a,da:t.da,width:4*Math.random()+3,points:[],lifetime:Math.min(4096,0|32*t.width*(1+Math.random()))})}),n.height=512,n.width=512,a.translate(n.width/2,n.height/2),a.strokeStyle="#000",a.lineWidth=4,h.forEach(function(t){for(8==t.width&&a.translate(-t.x,-t.y),a.beginPath(),l=t.points.length-1,i=l;p=t.points[i];i--)a.lineTo(p.x,p.y);a.stroke()}))}var n=document.getElementById("canvas"),a=n.getContext("2d"),e=0,o=0,h=h=[{x:0,y:0,a:2*Math.PI*Math.random(),da:0,width:8,points:[],lifetime:1/0}];window.requestAnimationFrame(t)};